package com.assign.nugget_4;

import java.awt.DisplayMode;
import java.sql.Date;
import java.text.SimpleDateFormat;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Scanner;
import java.util.TreeSet;

import com.assign.jdbc.Employee;

public class Main {

	static TreeSet<Employee> ts = new TreeSet<Employee>();

	public static void main(String[] args) {

		Scanner obj = new Scanner(System.in);
		showUI();
		loop: while (true) {
			showUI();
			switch (obj.nextInt()) {
			case 1: {
				insert();

				break;
			}
			case 2: {
				display();
				break;
			}
			case 3: {
				System.out.println("Enter the before Date");
				Date d = Date.valueOf(obj.next());
				beforeDate(d);
				break;
			}
			case 4: {
				break loop;
			}

			default: {
				System.out.println("please enter a valid choice");
				break;
			}

			}

		}
	}

	public static void showUI() {

		System.out
				.println("--------------EMPLOYEE OPERATIONS-------------------");

		System.out
				.println("1. insert details \n 2.display information \n 3. Delete Show \n4.Exit");
		System.out.println("ENTER YOUR CHOICE");

	}

	public static void insert() {

		Scanner obj = new Scanner(System.in);

		for (int j = 0; j < 2; j++) {
			Employee emp = new Employee();

			System.out.println("Employee   :" + j + 1);
			System.out.println("enter employment number :");
			emp.setEmp_no(obj.nextInt());

			System.out.println("enter emplyee name:");
			obj.nextLine();
			emp.setEmp_name(obj.nextLine());

			System.out.println("enter hire date");
			obj.nextLine();
			emp.setHire_date(Date.valueOf(obj.nextLine()));

			System.out.println("enter salary:");
			emp.setSalary(obj.nextDouble());

			System.out.println("enter department number");
			emp.setDept_no(obj.nextInt());

			ts.add(emp);
		}

	}

	public static void display() {
		System.out.println(ts);
	}

	public static void beforeDate(Date d) {
		for (Employee emp : ts) {
			if (emp.getHire_date().before(d))
				System.out.println(emp);
		}
	}

	public static void sixMonth() {
		for (Employee emp : ts) {
			emp.getHire_date();
			SimpleDateFormat sdf = new SimpleDateFormat("MM");
			int i = Integer.parseInt(sdf.format(emp.getHire_date()));
			LocalDateTime now = LocalDateTime.now();
			int n = Integer.parseInt(sdf.format(now));
			if(n-i>=6)
				System.out.println(emp);
		}
	}


	public static void sortJoiningDate(){
	List<Employee> ll=new ArrayList<Employee>();
	ll.addAll(ts);
	Collections.sort(ll, new JoiningdateComparator());
	}
}
